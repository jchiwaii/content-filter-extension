<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Profanity Database Test</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 1200px;
      margin: 40px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
      border-radius: 10px;
      margin-bottom: 30px;
    }
    h1 { margin: 0; }
    .subtitle { opacity: 0.9; margin-top: 10px; }
    .test-section {
      background: white;
      padding: 25px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .test-section h2 {
      margin-top: 0;
      color: #333;
    }
    .test-case {
      margin: 15px 0;
      padding: 15px;
      background: #f9f9f9;
      border-left: 4px solid #667eea;
      border-radius: 4px;
    }
    .test-input {
      font-family: 'Monaco', 'Courier New', monospace;
      background: #2d2d2d;
      color: #f8f8f2;
      padding: 10px;
      border-radius: 4px;
      margin: 5px 0;
    }
    .test-result {
      margin-top: 10px;
      padding: 10px;
      border-radius: 4px;
    }
    .pass {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    .fail {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    .stats {
      background: #667eea;
      color: white;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      margin-bottom: 30px;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .stat-item {
      background: rgba(255,255,255,0.2);
      padding: 15px;
      border-radius: 6px;
    }
    .stat-value {
      font-size: 32px;
      font-weight: bold;
      display: block;
    }
    .stat-label {
      font-size: 14px;
      opacity: 0.9;
      margin-top: 5px;
    }
    button {
      background: #667eea;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin-right: 10px;
    }
    button:hover {
      background: #5568d3;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>üõ°Ô∏è Profanity Database Test Suite</h1>
    <div class="subtitle">Comprehensive testing for content filtering accuracy</div>
  </div>

  <div class="stats">
    <h2>Test Results</h2>
    <div class="stats-grid">
      <div class="stat-item">
        <span class="stat-value" id="totalTests">0</span>
        <span class="stat-label">Total Tests</span>
      </div>
      <div class="stat-item">
        <span class="stat-value" id="passed">0</span>
        <span class="stat-label">Passed ‚úÖ</span>
      </div>
      <div class="stat-item">
        <span class="stat-value" id="failed">0</span>
        <span class="stat-label">Failed ‚ùå</span>
      </div>
      <div class="stat-item">
        <span class="stat-value" id="accuracy">0%</span>
        <span class="stat-label">Accuracy</span>
      </div>
    </div>
  </div>

  <div style="margin-bottom: 20px;">
    <button onclick="runAllTests()">üîÑ Run All Tests</button>
    <button onclick="clearResults()">üóëÔ∏è Clear Results</button>
  </div>

  <div id="testResults"></div>

  <script src="profanity-data.js"></script>
  <script>
    let totalTests = 0;
    let passed = 0;
    let failed = 0;

    const testCases = [
      // Basic profanity detection
      { section: "Basic Profanity Detection", tests: [
        { input: "fuck", expected: true, level: "moderate", desc: "Basic strong profanity" },
        { input: "shit", expected: true, level: "moderate", desc: "Basic moderate profanity" },
        { input: "damn", expected: true, level: "mild", desc: "Basic mild profanity" },
        { input: "hello world", expected: false, level: "moderate", desc: "Clean text" },
        { input: "bitch", expected: true, level: "moderate", desc: "Moderate profanity" },
        { input: "ass", expected: true, level: "moderate", desc: "Common profanity" },
      ]},

      // Leetspeak detection
      { section: "Leetspeak & Character Substitution", tests: [
        { input: "f@ck", expected: true, level: "moderate", desc: "@ substitution" },
        { input: "sh1t", expected: true, level: "moderate", desc: "1 substitution" },
        { input: "b!tch", expected: true, level: "moderate", desc: "! substitution" },
        { input: "a$$", expected: true, level: "moderate", desc: "$ substitution" },
        { input: "d1ck", expected: true, level: "moderate", desc: "Leetspeak dick" },
      ]},

      // Censored text detection
      { section: "Censored Text Detection", tests: [
        { input: "f**k", expected: true, level: "moderate", desc: "Censored fuck" },
        { input: "s**t", expected: true, level: "moderate", desc: "Censored shit" },
        { input: "b*tch", expected: true, level: "moderate", desc: "Partially censored" },
        { input: "f*ck", expected: true, level: "moderate", desc: "Single asterisk" },
      ]},

      // Spaced letters
      { section: "Spaced Letters Detection", tests: [
        { input: "f u c k", expected: true, level: "moderate", desc: "Spaced fuck" },
        { input: "s h i t", expected: true, level: "moderate", desc: "Spaced shit" },
        { input: "b i t c h", expected: true, level: "moderate", desc: "Spaced bitch" },
      ]},

      // False positive prevention
      { section: "False Positive Prevention", tests: [
        { input: "assessment", expected: false, level: "moderate", desc: "Exception: assessment" },
        { input: "class", expected: false, level: "moderate", desc: "Exception: class" },
        { input: "classic", expected: false, level: "moderate", desc: "Exception: classic" },
        { input: "dickens", expected: false, level: "moderate", desc: "Exception: dickens" },
        { input: "sussex", expected: false, level: "moderate", desc: "Exception: sussex" },
        { input: "passage", expected: false, level: "moderate", desc: "Exception: passage" },
      ]},

      // Variations
      { section: "Word Variations", tests: [
        { input: "fucking", expected: true, level: "moderate", desc: "Variation: fucking" },
        { input: "fucked", expected: true, level: "moderate", desc: "Variation: fucked" },
        { input: "shitty", expected: true, level: "moderate", desc: "Variation: shitty" },
        { input: "bitching", expected: true, level: "moderate", desc: "Variation: bitching" },
      ]},

      // NSFW content
      { section: "NSFW & Sexual Content", tests: [
        { input: "porn", expected: true, level: "all", desc: "NSFW: porn" },
        { input: "nsfw", expected: true, level: "all", desc: "NSFW: nsfw" },
        { input: "xxx", expected: true, level: "all", desc: "NSFW: xxx" },
        { input: "nude", expected: true, level: "all", desc: "NSFW: nude" },
        { input: "sex", expected: true, level: "all", desc: "NSFW: sex" },
      ]},

      // Case insensitivity
      { section: "Case Insensitivity", tests: [
        { input: "FUCK", expected: true, level: "moderate", desc: "Uppercase" },
        { input: "ShIt", expected: true, level: "moderate", desc: "Mixed case" },
        { input: "BItCh", expected: true, level: "moderate", desc: "Random case" },
      ]},

      // Severity levels
      { section: "Severity Levels", tests: [
        { input: "damn", expected: true, level: "mild", desc: "Mild level" },
        { input: "fuck", expected: false, level: "mild", desc: "Strong not in mild" },
        { input: "shit", expected: true, level: "moderate", desc: "Moderate level" },
        { input: "fuck", expected: true, level: "strong", desc: "Strong level" },
      ]},
    ];

    function runAllTests() {
      clearResults();
      const resultsDiv = document.getElementById('testResults');

      testCases.forEach(section => {
        const sectionDiv = document.createElement('div');
        sectionDiv.className = 'test-section';
        sectionDiv.innerHTML = `<h2>${section.section}</h2>`;

        section.tests.forEach(test => {
          totalTests++;
          const result = containsProfanity(test.input, test.level);
          const isPass = result === test.expected;

          if (isPass) passed++;
          else failed++;

          const testDiv = document.createElement('div');
          testDiv.className = 'test-case';
          testDiv.innerHTML = `
            <div><strong>${test.desc}</strong></div>
            <div class="test-input">Input: "${test.input}" | Level: ${test.level}</div>
            <div class="test-result ${isPass ? 'pass' : 'fail'}">
              ${isPass ? '‚úÖ PASS' : '‚ùå FAIL'} -
              Expected: ${test.expected}, Got: ${result}
            </div>
          `;
          sectionDiv.appendChild(testDiv);
        });

        resultsDiv.appendChild(sectionDiv);
      });

      updateStats();
    }

    function updateStats() {
      document.getElementById('totalTests').textContent = totalTests;
      document.getElementById('passed').textContent = passed;
      document.getElementById('failed').textContent = failed;
      const accuracy = totalTests > 0 ? Math.round((passed / totalTests) * 100) : 0;
      document.getElementById('accuracy').textContent = accuracy + '%';
    }

    function clearResults() {
      document.getElementById('testResults').innerHTML = '';
      totalTests = 0;
      passed = 0;
      failed = 0;
      updateStats();
    }

    // Run tests on load
    window.onload = () => {
      console.log('Profanity Database loaded. Database contains', PROFANITY_DATA.en.length, 'words');
      runAllTests();
    };
  </script>
</body>
</html>
